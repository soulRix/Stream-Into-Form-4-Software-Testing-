{% extends "baseAdmin.html" %}
{% block admin %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <div class = "container">
        <div class = "row justify-content-center">
            <div class = "text-center mb-5">
                <h2>Edit {{subject.subject_title}} Subject</h2>
                <hr>
                <h4> Fill the field again to update the Subject Details</h4>
            </div>
            
        </div>

        <!-- Form Here -->
        <form method = "POST" action = "" >
            <!-- Protect from Forgery Attacks so need the hidden Tag -->
            {{ form.hidden_tag() }}

            <!-- Subject Name -->
            <div class = "row justify-content-center mb-3">
                <div class = "col-sm-2 col-form-label">
                    {{ form.nameSubject.label(class="form-label") }}
                </div>

                <div class = "col-sm-5">
                    <!-- Invalid Message Error -->
                    {% if form.nameSubject.errors %}
                        {{ form.nameSubject(class="form-control is-invalid") }}
                        <div class = "invalid-feedback">
                            {% for error in form.name.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        <!-- Valid -->
                        {{ form.nameSubject(class="form-control") }}
                    {% endif %}
                </div>
            </div>

            <!-- Subject Category -->
            <div class = "row justify-content-center mb-3">
                <div class = "col-sm-2 col-form-label">
                    {{ form.subjectCategory.label(class="form-label") }}
                </div>

                <div class = "col-sm-5">
                    <!-- Invalid Message Error -->
                    {% if form.subjectCategory.errors %}
                        {{ form.subjectCategory(class="form-select is-invalid") }}
                        <div class = "invalid-feedback">
                            {% for error in form.name.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        <!-- Valid -->
                        {{ form.subjectCategory(class="form-select") }}
                    {% endif %}
                </div>
            </div>
            
            <!-- Subject Description -->
            <div class = "row justify-content-center mb-3">
                <div class = "col-sm-2 col-form-label">
                    {{ form.subjectDescription.label(class="form-label") }}
                </div>

                <div class = "col-sm-5">
                    <!-- Invalid Message Error -->
                    {% if form.subjectDescription.errors %}
                        {{ form.subjectDescription(class="form-control is-invalid") }}
                        <div class = "invalid-feedback">
                            {% for error in form.subjectDescription.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        <!-- Valid -->
                        {{ form.subjectDescription(class="form-control") }}
                    {% endif %}
                </div>
            </div>

            <div class = "row justify-content-center">
                <div class = "col-sm-2">
                </div>
                <div class = "col-sm-5">
                    <h6 class = "text-danger text-center">Leave the "Sylalbus Field" empty in order to remove the Syllabus</h6>
                </div>
            </div>
            
            <!-- Form 4 Syallabus -->
            <div class = "row form-group justify-content-center mb-3">
                <label class = "col-sm-2 col-form-label" for = "">
                    Form 4 Syllabus
                </label>
                <div class = "input-wrapper col-sm-5">

                    {% for value in subject.form4Syallabus %}
                        <div class = "input-group mb-4">
                            <input class = "form-control " type = "text" name = "field[]" value = "{{value.syllabusName}}"/>
                            <a class="btn btn-outline-info add-input"  href="javascript:void(0);" title = "Add Input" id="button-addon"><svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-file-plus-fill" viewBox="0 0 16 16">
                                <path d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM8.5 6v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 1 0z"/>
                            </svg>
                            </a>
                            <a class="btn btn-outline-danger remove-input"  href="javascript:void(0);" title = "Remove Input" ><svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-file-x-fill" viewBox="0 0 16 16"><path d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM6.854 6.146 8 7.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 8l1.147 1.146a.5.5 0 0 1-.708.708L8 8.707 6.854 9.854a.5.5 0 0 1-.708-.708L7.293 8 6.146 6.854a.5.5 0 1 1 .708-.708z"/></svg></a>
                        </div>
                    {% endfor %} 
                </div>
                
            </div>
            
            <div class = "row form-group justify-content-center mb-3">
                <label class = "col-sm-2 col-form-label" for = "">
                    Form 5 Syllabus
                    <br>
                    
                </label>
                <div class = "input-wrapper-2 col-sm-5">
                    
                    {% for value in subject.form5Syallabus %}        
                        <div class = "input-group mb-4">
                            <input class = "form-control " type = "text" name = "field2[]" value = "{{value.syllabusName}}"/>
                            <a class="btn btn-outline-info add-form5-input"  href="javascript:void(0);" title = "Add Input" id="button-addon2"><svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-file-plus-fill" viewBox="0 0 16 16">
                                <path d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM8.5 6v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 1 0z"/>
                            </svg>
                            </a>
                            <a class="btn btn-outline-danger remove-form5-input"  href="javascript:void(0);" title = "Remove Input" ><svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-file-x-fill" viewBox="0 0 16 16"><path d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM6.854 6.146 8 7.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 8l1.147 1.146a.5.5 0 0 1-.708.708L8 8.707 6.854 9.854a.5.5 0 0 1-.708-.708L7.293 8 6.146 6.854a.5.5 0 1 1 .708-.708z"/></svg></a>
                        </div>
                    {% endfor %} 

                </div>
                
            </div>

            


            <p class = "error error--hidden">

            </p>
            <div class = "text-center">
                {{ form.submit(class = "btn btn-primary mt-3", value = "Update")}}
            </div>
        </form>
    </div>

    <script>
        // Form 4 AJAX
        $(document).ready(function(){
            var max_input_fields = 15;
            var add_input = $('.add-input');
            var input_wrapper = $('.input-wrapper');
            var new_input = '<div class = "input-group mb-4"><input class = "form-control " type = "text" name = "field[]" value = ""/><a class="btn btn-outline-danger remove-input"  href="javascript:void(0);" title = "Remove Input" ><svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-file-x-fill" viewBox="0 0 16 16"><path d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM6.854 6.146 8 7.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 8l1.147 1.146a.5.5 0 0 1-.708.708L8 8.707 6.854 9.854a.5.5 0 0 1-.708-.708L7.293 8 6.146 6.854a.5.5 0 1 1 .708-.708z"/></svg></a></div>';
            var add_input_count = 1; 
            $(add_input).click(function(){
                if(add_input_count < max_input_fields){
                    add_input_count++; 
                    $(input_wrapper).append(new_input); 
                }
            });
            $(input_wrapper).on('click', '.remove-input', function(e){
                e.preventDefault();
                $(this).parent('div').remove();
                add_input_count--;
            });
        });

        // Form 5 AJAX
        $(document).ready(function(){
            var max_input_fields2 = 15;
            var add_input2 = $('.add-form5-input');
            var input_wrapper2 = $('.input-wrapper-2');
            var new_input2 = '<div class = "input-group mb-4"><input class = "form-control " type = "text" name = "field2[]" value = ""/><a class="btn btn-outline-danger remove-form5-input"  href="javascript:void(0);" title = "Remove Input" ><svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-file-x-fill" viewBox="0 0 16 16"><path d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM6.854 6.146 8 7.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 8l1.147 1.146a.5.5 0 0 1-.708.708L8 8.707 6.854 9.854a.5.5 0 0 1-.708-.708L7.293 8 6.146 6.854a.5.5 0 1 1 .708-.708z"/></svg></a></div>';
            var add_input_count2 = 1; 
            $(add_input2).click(function(){
                if(add_input_count2 < max_input_fields2){
                    add_input_count2++; 
                    $(input_wrapper2).append(new_input2); 
                }
            });
            $(input_wrapper2).on('click', '.remove-form5-input', function(e){
                e.preventDefault();
                $(this).parent('div').remove();
                add_input_count2--;
            });
        });
    </script>

{% endblock admin%}